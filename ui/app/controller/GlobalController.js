/*
 * File: app/controller/GlobalController.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('spider.controller.GlobalController', {
    extend: 'Ext.app.Controller',

    init: function(application) {
        var global = this;

        var intervalId1, intervalId2, intervalId3, intervalId4;
        var chartDataStore = Ext.getStore('chartDataStore');
        var cpuChart = Ext.getCmp('cpuChart');
        var memoryChart = Ext.getCmp('memoryChart');
        var networkChart = Ext.getCmp('networkChart');

        //CROS 설정
        Ext.data.Connection.prototype.useDefaultXhrHeader = false;

        // Global variables를 정의하는 구문으로 GlobalData.urlPrefix, GlobalData.serverSize 등으로 어디에서든 접근이 가능하다.
        Ext.define('GLOBAL', {
            singleton: true,
            me: global,

            apiUrlPrefix : "http://192.168.0.130:5001/",
            graphiteUrlPrefix : ""


        });

        Ext.define('GlobalData', {
            singleton: true,

            intervalId1: intervalId1,
            intervalId2: intervalId2,
            intervalId3: intervalId3,
            intervalId4: intervalId4,
            chartDataStore: chartDataStore,
            cpuChart: cpuChart,
            memoryChart: memoryChart,
            networkChart: networkChart
        });
    },

    closeWindow: function(button, msg) {
        var closeMsg = "작업을 취소하시겠습니까?";
        if(msg) {
            closeMsg = msg;
        }

        Ext.MessageBox.confirm('Confirm', closeMsg, function(btn){

            if(btn == "yes"){
                button.up("window").close();
            }

        });

    }

});
