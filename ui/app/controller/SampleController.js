/*
 * File: app/controller/SampleController.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('spider.controller.SampleController', {
    extend: 'Ext.app.Controller',

    refs: [
        {
            ref: 'monitoringBtn',
            selector: '#monitoringBtn'
        },
        {
            ref: 'myContainer1',
            selector: '#mycontainer1'
        },
        {
            ref: 'mypanel94',
            selector: '#mypanel94'
        }
    ],

    onMypanel95Resize: function(component, width, height, oldWidth, oldHeight, eOpts) {
        this.resizeGraphImage(component, width, height);

    },

    onMypanel98Resize: function(component, width, height, oldWidth, oldHeight, eOpts) {
        this.resizeGraphImage(component, width, height);
    },

    onMypanel99Resize: function(component, width, height, oldWidth, oldHeight, eOpts) {
        this.resizeGraphImage(component, width, height);
    },

    resizeGraphImage: function(cmp, cmpWidth, cmpHeight) {

        var imgCmp = cmp.down('image');

        //imgCmp.setWidth(cmpWidth);
        //imgCmp.setHeight(cmpHeight);

        imgCmp.setSrc('http://192.168.0.3:8000/render/?_salt=1409028000.87&target=vyos.cpu.0.cpu.user.value&from=-2minutes'
                + '&width='+cmpWidth + '&height=' + (cmpHeight+35));

    },

    init: function(application) {
        this.control({
            "#mypanel95": {
                resize: this.onMypanel95Resize
            },
            "#mypanel98": {
                resize: this.onMypanel98Resize
            },
            "#mypanel99": {
                resize: this.onMypanel99Resize
            }
        });
    }

});
